@import "tailwindcss";

:root {
  /* Light Mode Palette */
  --bg-page: #F7F9FC;
  --bg-elevated: #FFFFFF;
  --text-main: #111827;
  --text-muted: #6B7280;
  --primary: #2878D8;
  --primary-dark: #182870;
  --primary-soft: #A9C9EF;
  --border-soft: rgba(15, 23, 42, 0.08);
  --accent: #C0392B;
  /* Keeping accent for specific highlights if needed */
}

.dark {
  /* Dark Mode Palette */
  --bg-page: #050814;
  --bg-elevated: #0B1020;
  --text-main: #F9FAFB;
  --text-muted: #9CA3AF;
  --primary: #2878D8;
  --primary-dark: #A9C9EF;
  /* Inverted for dark mode highlight */
  --primary-soft: rgba(40, 120, 216, 0.15);
  --border-soft: rgba(148, 163, 184, 0.3);
  --accent: #E74C3C;
}

@theme {
  --color-page: var(--bg-page);
  --color-bg-elevated: var(--bg-elevated);
  --color-main: var(--text-main);
  --color-muted: var(--text-muted);
  --color-primary: var(--primary);
  --color-primary-dark: var(--primary-dark);
  --color-primary-soft: var(--primary-soft);
  --color-border-soft: var(--border-soft);
  --color-accent: var(--accent);

  --font-display: var(--font-newsreader), serif;
  --font-body: var(--font-lato), sans-serif;

  --radius-DEFAULT: 0.25rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-full: 9999px;
}

/* Custom utilities */
.material-symbols-outlined {
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
}

.hover-underline-animation {
  display: inline-block;
  position: relative;
}

.hover-underline-animation::after {
  content: '';
  position: absolute;
  width: 100%;
  transform: scaleX(0);
  height: 2px;
  /* Slightly thicker for visibility */
  bottom: -2px;
  left: 0;
  background-color: var(--primary);
  transform-origin: bottom right;
  transition: transform 0.3s ease-out;
}

.hover-underline-animation:hover::after {
  transform: scaleX(1);
  transform-origin: bottom left;
}

/* Advanced Animations */
@layer utilities {
  .perspective-1000 {
    perspective: 1000px;
  }

  .preserve-3d {
    transform-style: preserve-3d;
  }

  .backface-hidden {
    backface-visibility: hidden;
  }

  .ease-spring {
    transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  .ease-smooth {
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* Staggered Animation Delays */
.stagger-1 {
  animation-delay: 100ms;
}

.stagger-2 {
  animation-delay: 200ms;
}

.stagger-3 {
  animation-delay: 300ms;
}

.stagger-4 {
  animation-delay: 400ms;
}

.stagger-5 {
  animation-delay: 500ms;
}

.stagger-6 {
  animation-delay: 600ms;
}

/* 3D Tilt Utilities */
.tilt-card {
  transition: transform 0.1s ease-out;
  will-change: transform;
}

.tilt-content {
  transform: translateZ(20px);
}

/* Fade In Animation (Legacy/Fallback) */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.8s ease-out forwards;
}

/* --- Advanced Scroll-Linked Animations --- */

/* 1. Hero Parallax & Scale */
@keyframes hero-scroll {
  0% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }

  100% {
    transform: translateY(30%) scale(1.1);
    /* Parallax + Slight Zoom */
    opacity: 0.5;
  }
}

.animate-hero-scroll {
  /* Links animation progress to the scroll position of the nearest scroll container */
  animation: hero-scroll linear forwards;
  animation-timeline: scroll();
  animation-range: 0vh 100vh;
  /* Active only during the first viewport height */
}

/* 2. Scroll-Driven Reveal (Scrubbing) */
@keyframes reveal-scrub {
  0% {
    opacity: 0;
    transform: translateY(100px) scale(0.9);
  }

  50% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-reveal-scrub {
  animation: reveal-scrub linear both;
  /* Links animation to the element's visibility in the viewport */
  animation-timeline: view();
  /* Start animating when element enters (cover 0%), finish when it's fully visible (cover 40%) */
  animation-range: entry 10% cover 40%;
}

/* 3. Staggered List Scrubbing */
@keyframes list-item-reveal {
  0% {
    opacity: 0;
    transform: translateX(-20px);
  }

  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-list-scrub {
  animation: list-item-reveal linear both;
  animation-timeline: view();
  animation-range: entry 0% cover 30%;
}

/* 4. Scale Scrub (Pop on Center) */
@keyframes scale-scrub {
  0% {
    transform: scale(0.8);
    opacity: 0.5;
  }

  50% {
    transform: scale(1.3);
    opacity: 1;
  }

  100% {
    transform: scale(0.8);
    opacity: 0.5;
  }
}

.animate-scale-scrub {
  animation: scale-scrub linear both;
  animation-timeline: view();
  animation-range: cover 0% cover 100%;
}

/* 5. Text Slide & Color Shift */
@keyframes text-slide-color {
  0% {
    transform: translateX(-30px);
    color: var(--text-muted);
    opacity: 0.5;
  }

  50% {
    transform: translateX(0);
    color: var(--primary);
    opacity: 1;
  }

  100% {
    transform: translateX(30px);
    color: var(--text-muted);
    opacity: 0.5;
  }
}

.animate-text-slide {
  animation: text-slide-color linear both;
  animation-timeline: view();
  animation-range: cover 0% cover 100%;
}